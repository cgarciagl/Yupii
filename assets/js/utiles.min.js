function fixUrl(t){return t.startsWith("http://")||t.startsWith("https://")||void 0===base_url?t:base_url+"index.php/"+t}function getValue(t,e,n){var o="N/A_";asinc=!!n;let a=12e5;return void 0!==e&&void 0!==e.timeout&&(a=e.timeout),$.ajax({url:fixUrl(t),type:"POST",data:e,async:asinc,cache:!1,dataType:"text",timeout:a,error:function(t,e){o=e},success:function(t){o=t,n&&n(o)}}),o}function getObject(t,e,n){if(!n){var o=getValue(t,e);return new Function("return "+o)()}getValue(t,e,function(t){var e=new Function("return "+t)();n(e)})}function redirectTo(t){setTimeout(function(){window.location.href=fixUrl(t)},0)}function openInNew(t){window.open(fixUrl(t),"_new")}function redirectByPost(t,e,n){var o=fixUrl(t);e=void 0===e?{}:e,n=void 0===n||n;var a=document.createElement("form");return $(a).attr("id","reg-form").attr("name","reg-form").attr("action",o).attr("method","post").attr("enctype","multipart/form-data"),n&&$(a).attr("target","_blank"),$.each(e,function(t){$(a).append('<input type="text" name="'+t+'" value="'+this+'" />')}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),!1}function trim(t){return $.trim(t)}function refreshPage(){location.reload()}function getHourNumber(){return(new Date).getTime()}function moveElement(t,e){t.appendTo(e)}function ponTotalesEnTabla(t,e=!1,n=!0){if("Total"!==t.find("tr:eq(0) td:last").text()){if(e&&t.find("tbody tr").length>1){var o=t.find("tbody tr").length,a=t.find("tbody tr:last-child td").length;for(t.find("tbody").append("<tr></tr>"),lr=t.find("tbody tr:last-child"),i=1;i<=a;i++)lr.append('<td style="font-weight:bold" class="totalt">Total</td>');for(i=1;i<=a-1;i++){for(tt=0,j=0;j<=o-1;j++)tt+=parseInt(t.find("tbody tr").eq(j).find("td").eq(i).text());Number.isNaN(tt)&&(tt=""),lr.find("td").eq(i).text(tt)}}if(n&&t.find("tbody tr:last-child td").length>2)for(t.find("tr").append('<td style="font-weight:bold">Total</td>'),j=0;j<=t.find("tbody tr").length-1;j++){for(tt=0,rr=t.find("tbody tr").eq(j),i=1;i<=t.find("tbody tr:last-child td").length-1;i++)tt+=parseInt(rr.find("td").eq(i).text());Number.isNaN(tt)&&(tt=""),rr.find("td").eq(t.find("tbody tr:last-child td").length).text(tt)}}}function exportToExcel(t,e){var n="data:application/vnd.ms-excel;charset=UTF-8;base64,",o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <meta charset="utf-8" />  <!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',a=function(t){return window.btoa(unescape(encodeURIComponent(t)))},r=function(t,e){return t.replace(/{(\w+)}/g,function(t,n){return e[n]})},i={worksheet:"Worksheet",table:e},s=document.createElement("a");document.body.appendChild(s),s.download=t+".xls",s.href=n+a(r(o,i)),s.click(),s.remove()}function ponTablaPaginada(t){var e={aaSorting:[],sPaginationType:"full_numbers",bJQueryUI:!1,bLengthChange:!0,bDeferRender:!0,oLanguage:{sProcessing:"Procesando...",sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron registros",sInfo:"Mostrando desde _START_ hasta _END_ de _TOTAL_ registros",sInfoEmpty:"Mostrando desde 0 hasta 0 de 0 registros",sInfoFiltered:"",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",oPaginate:{sFirst:"Primero",sPrevious:"Anterior",sNext:"Siguiente",sLast:"Último"}},sDom:'T<"clear">frtip'};$(t).dataTable(e)}function aplicarEstiloPaginacion(t){$(t).parent().find(".paginate_button, .paginate_active").addClass("btn btn-xs btn-info")}function muestraError(t="error",e,n,o=""){Swal.fire({icon:t,title:e,text:n,footer:o})}function muestraMensajeAlerta(t="error",e="",n=4500){Toast.fire({icon:t,title:e,timer:n})}function muestraMensajeAlertaAbajo(t="error",e="",n=4500){ToastBottom.fire({icon:t,title:e,timer:n})}function showModal(t,e="",n="miModal",o=null){$("#"+n).length||$("body").append(`<div id="${n}" class="modal fade" tabindex="-1" role="dialog" aria-hidden="false" data-keyboard="false" data-backdrop="static">\n          <div class="modal-dialog modal-xl modal-dialog-scrollable">\n          <div class="modal-content">\n          <div class="modal-header">\n          <h4 class="modal-title" id="${n}-modaltitle">Título de la modal</h4>\n          <button type="button" class="close" data-dismiss="modal">&times;</button>\n          </div>\n          <div class="modal-body">\n            <div id="${n}-modalescondido"> </div> \n          </div>\n          <div class="modal-footer"></div>\n          </div>\n          </div>\n          </div>`),o&&$("#"+n).on("hidden.bs.modal",function(){o(),$("#"+n).unbind()}),$("#"+n+"-modalescondido").html(t),$("#"+n+"-modaltitle").text(e),$("#"+n).modal("show")}function convertToTable(t){return Array.isArray(t)?arrayToTable(t):objectToTable(t)}function objectToTable(t){var e="<table class='table'>",n=Object.keys(t);return e+=createHeaderRow(n),e+=objectToRow(t,n),e+="</table>",e}function arrayToTable(t){var e="<table class='table'>",n=Object.keys(t[0]);return e+="<thead>",e+=createHeaderRow(n),e+="</thead>",e+="<tbody>",t.forEach(function(t){e+=objectToRow(t,n)}),e+="</tbody>",e+="</table>",e}function objectToRow(t,e){var n="<tr>";return e||(e=Object.keys(t)),e.forEach(function(e){n+="<td>"+t[e]+"</td>"}),n+="</tr>",n}function createHeaderRow(t){var e="<tr>";return t.forEach(function(t){e+="<th>"+t+"</th>"}),e+="</tr>",e}function limitText(t,e){t.value.length>e&&(t.value=t.value.substring(0,e))}function ponValorEnSelect(t,e,n){t.find("option[value='"+e+"']").remove(),t.find("option").prop("selected",!1).removeAttr("selected");var o=$("<option></option>").val(e).text(n).attr("selected","selected");t.append(o).val(e).trigger("change")}function ponerIconoLupaEnControl(t){t.wrap('<div class="input-group"></div>');let e=$('<div class="input-group-prepend">\n                    <span class="input-group-text">\n                      <i class="fa fa-search"></i>\n                    </span>\n                 </div>');e.insertBefore(t)}function limpia(t){return t.replace("-"," ").replace(/\s+/g," ").trim()}function ponBusquedaEn(t,e,n,o){ponerIconoLupaEnControl(t),t.keyup(function(t){13==t.keyCode&&$(this).val().length>2&&(valorabuscar=limpia($(this).val()),controlBusqueda=$(this),getValue("utilerias/busqueda",{valorabuscar:valorabuscar,ruta:e,params:n},function(t){ResultData={},showModal(t,"","busquedaModal",function(){o(controlBusqueda)})}))})}function inArray(t,e){return e.includes(t)}async function getValue2(t,e){try{let n="N/A_",o=12e5;e&&void 0!==e.timeout&&(o=e.timeout);const a=await fetch(fixUrl(t),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer",timeout:o});if(!a.ok)throw new Error(`Request failed with status: ${a.status}`);return n=await a.text(),n}catch(t){throw t}}async function getObject2(t,e){try{const n=await getValue2(t,e);return JSON.parse(n)}catch(t){throw t}}function getSession(){return getObject("admin/sess",{})}function mostrarCargando(){let t=document.querySelector(".loading-container");if(!t){let t=document.createElement("div");t.classList.add("loading-container");let e=document.createElement("div");e.classList.add("loading"),t.appendChild(e),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(255, 255, 255, 0.8)",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.zIndex="9999",e.style.border="5px solid #f3f3f3",e.style.borderTop="5px solid #3498db",e.style.borderRadius="50%",e.style.width="50px",e.style.height="50px",e.style.animation="spin 2s linear infinite",document.body.appendChild(t)}}function ocultarCargando(){let t=document.querySelector(".loading-container");t&&t.remove()}if(console||(console={},console.log=function(){}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(t){return $.trim(t)}),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(t){return this.slice(0,t.length)==t}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return this.slice(-t.length)==t}),"function"!=typeof String.prototype.contains&&(String.prototype.contains=function(t){return-1!=this.indexOf(t)}),"function"!=typeof String.prototype.replaceAll&&(String.prototype.replaceAll=function(t,e){var n=this;return n.replace(new RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),e)}),void 0===base_url){var getUrl=window.location,base_url=getUrl.protocol+"//"+getUrl.host+"/"+getUrl.pathname.split("/")[1];base_url.endsWith("/")||(base_url+="/")}var ResultData={};let controlBusqueda={};var timestamp=getHourNumber();$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},$.fn.shake=function(t){var e,n={shakes:2,distance:10,duration:400};return t&&$.extend(n,t),this.each(function(){var t=$(this);e=t.css("position"),e&&"static"!==e||t.css("position","relative");for(var o=1;o<=n.shakes;o++)t.animate({left:-1*n.distance},n.duration/n.shakes/4).animate({left:n.distance},n.duration/n.shakes/2).animate({left:0},n.duration/n.shakes/4)})},$(document).ajaxStart(function(){$.blockUI({message:'<h1><i class="fa fa-spinner fa-spin"></i></h1>',baseZ:8e4})}).ajaxStop(function(){$.unblockUI()});