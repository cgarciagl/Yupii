(function(b){var a;b.fn.printThis=function(d){a=b.extend({},b.fn.printThis.defaults,d);var c=this instanceof jQuery?this:b(this);var f="printThis-"+(new Date()).getTime();if(window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)){var i='javascript:document.write("<head><script>document.domain=\\"'+document.domain+'\\";<\/script></head><body></body>")';var h=document.createElement("iframe");h.name="printIframe";h.id=f;h.className="MSIE";document.body.appendChild(h);h.src=i}else{var e=b("<iframe id='"+f+"' name='printIframe' />");e.appendTo("body")}var g=b("#"+f);if(!a.debug){g.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"})}setTimeout(function(){var o=g.contents(),j=o.find("head"),l=o.find("body");j.append('<base href="'+document.location.protocol+"//"+document.location.host+'">');if(a.importCSS){b("link[rel=stylesheet]").each(function(){var p=b(this).attr("href");if(p){var q=b(this).attr("media")||"all";j.append("<link type='text/css' rel='stylesheet' href='"+p+"' media='"+q+"'>")}})}if(a.importStyle){b("style").each(function(){b(this).clone().appendTo(j)})}if(a.pageTitle){j.append("<title>"+a.pageTitle+"</title>")}if(a.loadCSS){if(b.isArray(a.loadCSS)){jQuery.each(a.loadCSS,function(p,q){j.append("<link type='text/css' rel='stylesheet' href='"+this+"'>")})}else{j.append("<link type='text/css' rel='stylesheet' href='"+a.loadCSS+"'>")}}if(a.header){l.append(a.header)}if(a.printContainer){l.append(c.outer())}else{c.each(function(){l.append(b(this).html())})}if(a.formValues){var n=c.find("input");if(n.length){n.each(function(){var s=b(this),t=b(this).attr("name"),p=s.is(":checkbox")||s.is(":radio"),q=o.find('input[name="'+t+'"]'),r=s.val();if(!p){q.val(r)}else{if(s.is(":checked")){if(s.is(":checkbox")){q.prop("checked","checked")}else{if(s.is(":radio")){o.find('input[name="'+t+'"][value='+r+"]").prop("checked","checked")}}}}})}var k=c.find("select");if(k.length){k.each(function(){var q=b(this),r=b(this).attr("name"),p=q.val();o.find('select[name="'+r+'"]').val(p)})}var m=c.find("textarea");if(m.length){m.each(function(){var q=b(this),r=b(this).attr("name"),p=q.val();o.find('textarea[name="'+r+'"]').val(p)})}}if(a.removeInline){if(b.isFunction(b.removeAttr)){o.find("body *").removeAttr("style")}else{o.find("body *").attr("style","")}}setTimeout(function(){if(g.hasClass("MSIE")){window.frames.printIframe.focus();j.append("<script>  window.print(); <\/script>")}else{g[0].contentWindow.focus();g[0].contentWindow.print()}if(!a.debug){setTimeout(function(){g.remove()},1000)}},a.printDelay)},333)};b.fn.printThis.defaults={debug:false,importCSS:true,importStyle:false,printContainer:true,loadCSS:"",pageTitle:"",removeInline:false,printDelay:333,header:null,formValues:true};jQuery.fn.outer=function(){return b(b("<div></div>").html(this.clone())).html()}})(jQuery);